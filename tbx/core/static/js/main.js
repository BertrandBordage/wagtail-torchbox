$(document).ready(function(){tbx.heroImages(),tbx.mobileMenu(),tbx.loadMore(),tbx.team(),tbx.clipThru(),tbx.scrollEvents(),tbx.signUp(),tbx.jobs()});var tbx={heroImages:function(){function e(){n.removeClass(r)}function t(e){o.not(e).removeClass(a),l.removeClass(a)}function s(e){c=e.data("name"),e.addClass(a),i.find('[data-name="'+c+'"]').addClass(a)}var o=$(".featured-case-studies li"),n=$(".home-hero"),i=$(".feature-images"),l=$(".feature-image"),a="active",r="initial-load",c=null;o.one("mouseenter",function(){e()}),o.on("mouseenter",function(){t($(this)),s($(this))})},mobileMenu:function(){function e(){o.removeClass(a),n.removeClass(i),setTimeout(function(){s.removeClass(l)},500)}function t(e){s.addClass(l),n.addClass(i),o.each(function(){e=$(this),e.addClass(a)})}var s=$(".bleed"),o=s.find("li"),n=$(".menu-button"),i="twist",l="visible out-animation",a="show";n.click(function(){n.hasClass(i)?e():t($(this))}),$(window).on("resize",function(){e()})},loadMore:function(){var e=$(".clients"),t=e.find("button"),s=$(".clients ul"),o="visible",n="Show more",i="Show less";t.click(function(){var e=$(this);s.hasClass(o)?(s.removeClass(o),e.html(n)):(s.addClass(o),e.html(i))})},team:function(){var e=$(".js-text-view"),t=$(".js-image-view"),s=$(".people-list"),o="people-list--text",n="active";e.on("click",function(){$(this).addClass(n),t.removeClass(n),s.addClass(o)}),t.on("click",function(){$(this).addClass(n),e.removeClass(n),s.removeClass(o)})},scrollEvents:function(){$(window).width()>768&&$(window).on("scroll",function(){var e=$(".about-text"),t=$(".hero-text"),s=$(window).scrollTop(),o="stop";!function(){s>=335?t.addClass(o):t.removeClass(o)}(),function(){s>=465?e.addClass(o):e.removeClass(o)}(),function(){var e=285,t=$(".js-text-content"),s=Math.abs($(document).scrollTop()+60),e=340,o=null;t.length&&(s<=e&&(o=s),t.css({paddingTop:o}))}()})},clipThru:function(){$("#tester-unique").length&&$("#tester-unique").clipthru({autoUpdate:!0,autoUpdateInterval:30})},jobs:function(){if($(".jobs-carousel").length){$(".jobs-carousel").each(function(e,t){var s="carousel"+e;this.id=s,$(this).slick({slide:"#"+s+" li",slidesToShow:1,slidesToScroll:1,slidesPerRow:1,infinite:!1,vertical:!0,verticalSwiping:!0})});var e;$(window).resize(function(){clearTimeout(e),e=setTimeout(function(){$(".jobs-carousel").slick("setPosition")},500)})}},map:function(){function e(e,t){for(i=0;i<t.length;i++){var s=t[i][0],o=t[i][1],n=t[i][2],l=new google.maps.LatLng(s,o),a=new google.maps.InfoWindow,r='<div class="map-infobox">'+n+"</div>",c=new google.maps.Marker({map:e,position:l,title:n,icon:'{% static "torchbox/images/pin.png" %}'});markers.push(c),google.maps.event.addListener(c,"click",function(t,s,o){return function(){o.setContent(s),o.open(e,t)}}(c,r,a))}}function t(){for(var e=new google.maps.LatLngBounds,t=0;t<markers.length;t++)e.extend(markers[t].getPosition());map.fitBounds(e)}function s(){markers[1].setMap(null)}function o(){for(var e=0;e<locations.length;e++)markers[e].setMap(map)}function n(){google.maps.event.addListener(map,"zoom_changed",function(){a=map.getZoom(),a<l?s():o()})}var l=5,a=null;markers=[],locations=[[51.858469,-1.480863,"Oxford"],[51.454814,-2.597802,"Bristol"],[39.950865,-75.14559,"Philadelphia"]],mapOptions={mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:4,scrollwheel:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{lightness:"69"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{lightness:"35"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{lightness:"1"}]},{featureType:"administrative.province",elementType:"geometry.fill",stylers:[{weight:"3.94"},{lightness:"45"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]},map=new google.maps.Map(document.getElementById("map"),mapOptions),e(map,locations),s(),n(),t()},signUp:function(){}};